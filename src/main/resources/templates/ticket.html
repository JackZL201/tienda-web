<!doctype html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <title>Ticket</title>
  <style>
    body{font-family: Arial, sans-serif; margin:24px;}
    .header{ text-align:center; }
    .logo{ max-height:72px; margin-bottom:8px; }
    table{ width:100%; border-collapse: collapse; margin-top:16px;}
    th,td{ border-bottom:1px solid #ddd; padding:8px; text-align:left; }
    .tot{ text-align:right; }
  </style>
</head>
<body>
  <div class="header">
    <img class="logo" src="/img/logo.png" alt="logo">
    <h2>Ticket de compra</h2>
  </div>

  <p><b>Cliente:</b> <span th:text="${nombre}"></span><br>
     <b>Email:</b> <span th:text="${email}"></span></p>

  <table>
    <thead>
      <tr><th>Producto</th><th>Cant</th><th class="tot">Subtotal</th></tr>
    </thead>
    <tbody>
      <tr th:each="it : ${carrito.items}">
        <td th:text="${it.producto.nombre}"></td>
        <td th:text="${it.cantidad}"></td>
        <td class="tot" th:text="${#numbers.formatDecimal(it.subtotal,1,'COMMA',2,'POINT')}"></td>
      </tr>
    </tbody>
  </table>

  <p th:if="${descuento != null}">
    <b>Descuento:</b> <span th:text="${descuento.etiqueta}"></span>
    â€” <span th:text="${#numbers.formatDecimal(descuento.monto,1,'COMMA',2,'POINT')}"></span>
  </p>

  <h3 class="tot">
    Subtotal: <span th:text="${#numbers.formatDecimal(tot.subtotal,1,'COMMA',2,'POINT')}"></span><br>
    IVA (16%): <span th:text="${#numbers.formatDecimal(tot.iva,1,'COMMA',2,'POINT')}"></span><br>
    TOTAL: <span th:text="${#numbers.formatDecimal(tot.total,1,'COMMA',2,'POINT')}"></span>
  </h3>
</body>
</html>
